@import "tailwindcss";

@font-face {
  font-family: "ff2";
  src: url("/ff2.woff") format("woff");
}

/* Light and Dark Theme Support */
:root {
  /* Primary (Blue accent) - Dark theme default */
  --md-sys-color-primary: #61a8ff;
  --md-sys-color-on-primary: #19191b;
  --md-sys-color-primary-container: #113b77;
  --md-sys-color-on-primary-container: #19191b;

  /* Secondary */
  --md-sys-color-secondary: #b8c0cc;
  --md-sys-color-on-secondary: #1a222c;
  --md-sys-color-secondary-container: #2a323d;
  --md-sys-color-on-secondary-container: #dbe2ea;

  /* Surface */
  --md-sys-color-surface: #0e1117;
  --md-sys-color-on-surface: #e5e8ee;
  --md-sys-color-surface-variant: #3a404a;
  --md-sys-color-outline: #8f96a3;

  /* Error */
  --md-sys-color-error: #b3261e;
  --md-sys-color-on-error: #ffffff;

  /* Elevation (Material 3) */
  --md-elevation-1: 0 1px 2px rgba(0, 0, 0, .14), 0 1px 3px 1px rgba(0, 0, 0, .12);
  --md-elevation-2: 0 2px 4px rgba(0, 0, 0, .14), 0 3px 4px 1px rgba(0, 0, 0, .12);
  --md-elevation-3: 0 4px 8px rgba(0, 0, 0, .14), 0 1px 3px 1px rgba(0, 0, 0, .12);

  /* ============================================
     DESIGN TOKENS
     ============================================ */

  /* Spacing Scale */
  --spacing-xs: 0.5rem;
  /* 8px */
  --spacing-sm: 0.75rem;
  /* 12px */
  --spacing-md: 1rem;
  /* 16px */
  --spacing-lg: 1.5rem;
  /* 24px */
  --spacing-xl: 2rem;
  /* 32px */
  --spacing-2xl: 3rem;
  /* 48px */

  /* Border Radius Scale */
  --radius-sm: 0.75rem;
  /* 12px - inputs, buttons */
  --radius-md: 0.875rem;
  /* 14px - row boxes */
  --radius-lg: 1rem;
  /* 16px - cards */
  --radius-full: 9999px;
  /* full rounded - pills, primary buttons */

  /* Typography Scale */
  --text-xs: 0.75rem;
  /* 12px */
  --text-sm: 0.875rem;
  /* 14px */
  --text-base: 1rem;
  /* 16px */
  --text-lg: 1.125rem;
  /* 18px */
  --text-xl: 1.25rem;
  /* 20px */
  --text-2xl: 1.5rem;
  /* 24px */

  /* Component-specific colors (Dark theme) */
  --color-bg-base: #19191b;
  --color-bg-elevated: #202024;
  --color-bg-elevated-hover: #2c2c2f;
  --color-border-subtle: rgba(255, 255, 255, 0.08);
  --color-border-medium: rgba(255, 255, 255, 0.10);
  --color-border-strong: rgba(255, 255, 255, 0.15);

  /* Focus ring */
  --focus-ring-width: 3px;
  --focus-ring-color: rgba(59, 130, 246, 0.5);
  --focus-ring: 0 0 0 var(--focus-ring-width) var(--focus-ring-color);
}

/* Light theme overrides - Warm, cohesive colors matching dark mode aesthetic */
:root.light {
  --md-sys-color-primary: #6b7280;
  --md-sys-color-on-primary: #ffffff;
  --md-sys-color-primary-container: #e5e7eb;
  --md-sys-color-on-primary-container: #374151;

  --md-sys-color-secondary: #6b7280;
  --md-sys-color-on-secondary: #ffffff;
  --md-sys-color-secondary-container: #d5dce6;
  --md-sys-color-on-secondary-container: #354961;

  --md-sys-color-surface: #f8f9fc;
  --md-sys-color-on-surface: #1e1e22;
  --md-sys-color-surface-variant: #e8eef8;
  --md-sys-color-outline: #6f7690;

  --md-sys-color-error: #b3261e;
  --md-sys-color-on-error: #ffffff;

  --md-elevation-1: 0 1px 2px rgba(17, 24, 39, 0.08), 0 1px 3px 1px rgba(17, 24, 39, 0.06);
  --md-elevation-2: 0 2px 4px rgba(17, 24, 39, 0.08), 0 3px 4px 1px rgba(17, 24, 39, 0.06);
  --md-elevation-3: 0 4px 8px rgba(17, 24, 39, 0.08), 0 1px 3px 1px rgba(17, 24, 39, 0.06);

  /* Component-specific colors (Light theme) */
  --color-bg-base: #E2E8F0;
  --color-bg-elevated: #ffffff;
  --color-bg-elevated-hover: #f5f7fa;
  --color-border-subtle: rgba(13, 71, 161, 0.12);
  --color-border-medium: #CBD5E1;
  --color-border-strong: rgba(13, 71, 161, 0.2);
}

/* ============================================
   GLOBAL STYLES
   ============================================ */

/* Global application surfaces */
html,
body,
#root {
  background: var(--color-bg-base);
  color: var(--md-sys-color-on-surface, #ffffff);
  transition: background-color 0.3s ease, color 0.3s ease;
}

html.light,
html.light body,
html.light #root {
  background: var(--color-bg-base);
  color: #1a1a1a;
}

.material-surface {
  background: var(--color-bg-base);
  color: var(--md-sys-color-on-surface, #ffffff);
  transition: background-color 0.3s ease, color 0.3s ease;
}

html.light .material-surface {
  background: var(--color-bg-base);
  color: #1a1a1a;
}

.material-app-bar {
  background: var(--color-bg-elevated);
  color: var(--md-sys-color-on-surface, #ffffff);
  box-shadow: var(--md-elevation-2);
  border-bottom: 1px solid var(--color-border-subtle);
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

html.light .material-app-bar {
  background: #eceff1;
  color: #1a1a1a;
  border-bottom-color: var(--color-border-subtle);
}


.elev-1 {
  box-shadow: var(--md-elevation-1);
}

.elev-2 {
  box-shadow: var(--md-elevation-2);
}

/* ============================================
   COMPONENT STYLES
   ============================================ */

/* Material You component utilities */
.md-card {
  background: var(--color-bg-elevated);
  color: var(--md-sys-color-on-surface, #ffffff);
  border: 1px solid color-mix(in oklab, var(--md-sys-color-outline, #8f96a3) 35%, transparent);
  border-radius: var(--radius-lg);
  box-shadow: var(--md-elevation-1);
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

html.light .md-card {
  background: var(--color-bg-elevated);
  color: #1a1a1a;
  border-color: var(--color-border-medium);
}

.md-input {
  background: var(--color-bg-elevated);
  color: var(--md-sys-color-on-surface, #ffffff);
  border: 1px solid var(--color-border-subtle);
  width: 100%;
  padding: 0.625rem 0.875rem;
  border-radius: var(--radius-sm);
  outline: none;
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

html.light .md-input {
  background: #F8FAFC;
  color: #1a1a1a;
  border-color: #94A3B8;
}

.md-input:focus {
  border-color: color-mix(in oklab, var(--md-sys-color-primary) 50%, transparent);
  box-shadow: var(--focus-ring);
}

.md-textarea {
  background: var(--color-bg-elevated);
  color: var(--md-sys-color-on-surface, #ffffff);
  border: 1px solid var(--color-border-subtle);
  width: 100%;
  min-height: 6rem;
  padding: 0.625rem 0.875rem;
  border-radius: var(--radius-sm);
  outline: none;
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

html.light .md-textarea {
  background: #F8FAFC;
  color: #1a1a1a;
  border-color: #94A3B8;
}

.md-textarea:focus {
  box-shadow: var(--focus-ring);
  border-color: color-mix(in oklab, var(--md-sys-color-primary) 45%, transparent);
}

.md-chip {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.3rem 0.6rem;
  border-radius: var(--radius-full);
  background: #252529;
  border: 1px solid var(--color-border-subtle);
  color: var(--md-sys-color-on-surface, #ffffff);
  cursor: pointer;
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

html.light .md-chip {
  background: #e3f2fd;
  border-color: rgba(21, 101, 192, 0.25);
  color: #1565c0;
}

.md-chip--on {
  background: color-mix(in oklab, var(--md-sys-color-primary) 12%, #252529);
  border-color: color-mix(in oklab, var(--md-sys-color-primary) 35%, #404046);
}

html.light .md-chip--on {
  background: #1565c0;
  color: #ffffff;
  border-color: #1565c0;
  font-weight: 600;
}

.md-chip:hover {
  background: var(--color-bg-elevated-hover);
  transition: background-color 0.2s ease;
}

html.light .md-chip:hover {
  background: #bbdefb;
  border-color: rgba(21, 101, 192, 0.35);
}

html.light .md-chip--on:hover {
  background: #1044a3;
  border-color: #1044a3;
}

.md-row:hover {
  background: color-mix(in oklab, var(--md-sys-color-on-surface) 6%, transparent);
}

/* Clickable elements */
[data-row],
.clickable {
  cursor: pointer;
}

/* Button styles */
button,
[role="button"] {
  cursor: pointer;
}

.md-btn-primary {
  border-radius: var(--radius-full);
  padding: 0.5rem 0.875rem;
  background: var(--md-sys-color-primary, #1e88ff);
  color: var(--md-sys-color-on-primary, #19191b) !important;
  cursor: pointer;
  font-weight: 600;
}

.md-btn-primary:hover {
  filter: brightness(1.05);
}

/* Fix status button text color when selected (using md-btn-primary) */
.md-btn-primary.text-left,
.md-btn-primary.text-left * {
  color: var(--md-sys-color-on-primary, #19191b) !important;
}

/* Make selected status button taller for better visual prominence */
.md-btn-primary.text-left {
  min-height: 3.5rem;
  /* 56px - taller than default */
  padding: 1rem 0.875rem;
  /* More vertical padding */
}

.md-btn-tonal {
  border-radius: var(--radius-full);
  padding: 0.5rem 0.875rem;
  background: var(--md-sys-color-primary-container, #113b77);
  color: var(--md-sys-color-on-primary-container, #c5d9f1);
  cursor: pointer;
  font-weight: 600;
}

.md-btn-surface {
  border-radius: var(--radius-sm);
  padding: 0.5rem 0.875rem;
  background: var(--color-bg-elevated-hover);
  color: var(--md-sys-color-on-surface, #ffffff);
  border: 1px solid var(--color-border-medium);
  cursor: pointer;
  font-weight: 600;
}

html.light .md-btn-surface {
  background: #F8FAFC;
  color: #334155;
  border-color: var(--color-border-medium);
}

.md-btn-surface:hover {
  background: color-mix(in oklab, var(--color-bg-elevated-hover) 90%, white);
}

html.light .md-btn-surface:hover {
  background: var(--color-bg-elevated-hover);
  filter: none;
}

.md-btn-surface:focus-visible {
  border-color: #3B82F6;
  box-shadow: var(--focus-ring);
  z-index: 10;
  position: relative;
  background: color-mix(in oklab, var(--color-bg-elevated-hover) 90%, white);
}

html.light .md-btn-surface:focus-visible {
  background: var(--color-bg-elevated-hover);
}

/* Mobile-specific improvements */
@media (max-width: 640px) {
  .md-input {
    font-size: 16px;
    /* Prevents zoom on iOS */
    padding: 0.75rem 0.875rem;
  }

  .md-textarea {
    font-size: 16px;
    /* Prevents zoom on iOS */
    padding: 0.75rem 0.875rem;
  }

  .md-chip {
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
  }

  /* Ensure touch targets are at least 44px */
  button,
  .md-btn-primary,
  .md-btn-surface,
  .md-btn-tonal {
    min-height: 44px;
    min-width: 44px;
  }

  /* Improve text readability on mobile */
  body {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  /* Better mobile button spacing */
  .md-btn-primary,
  .md-btn-surface,
  .md-btn-tonal {
    padding: 0.75rem 1rem;
    font-size: 0.9rem;
    line-height: 1.2;
  }

  /* Improve mobile card spacing */
  .md-card {
    margin-bottom: 0.75rem;
  }

  /* Better mobile form layout */
  .space-y-4>*+* {
    margin-top: 1rem;
  }

  /* Improve mobile ticket card readability */
  .md-row-box {
    margin-bottom: 0.5rem;
  }

  /* Better mobile navigation */
  .flex.flex-col.sm\:flex-row {
    gap: 0.5rem;
  }
}


.md-row-box {
  background: var(--color-bg-elevated-hover);
  border: 1px solid color-mix(in oklab, var(--md-sys-color-on-surface) 8%, transparent);
  border-radius: var(--radius-md);
  box-shadow: 0 1px 0 rgba(0, 0, 0, .25);
  overflow-wrap: break-word;
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
  outline: none;
}

.md-row-box:focus-visible {
  z-index: 10;
  position: relative;
  background: color-mix(in oklab, var(--color-bg-elevated-hover) 90%, white);
  outline: none;
}

html.light .md-row-box:focus-visible {
  background: var(--color-bg-elevated-hover);
}

html.light .md-row-box {
  background: var(--color-bg-elevated);
  border-color: var(--color-border-subtle);
  box-shadow: 0 1px 0 rgba(13, 71, 161, 0.06);
}

.md-row-box:hover {
  background: color-mix(in oklab, var(--color-bg-elevated-hover) 90%, white);
}

html.light .md-row-box:hover {
  background: var(--color-bg-elevated-hover);
}

/* Disable hover effect for comment boxes */
.space-y-3 .md-row-box:hover {
  background: var(--color-bg-elevated-hover);
  /* Keep original background, no hover effect */
}

html.light .space-y-3 .md-row-box:hover {
  background: var(--color-bg-elevated);
}

/* Only break long URLs, not normal words in the comment box */
.md-row-box a {
  word-break: break-all;
  overflow-wrap: break-word;
  color: #60a5fa;
  /* Light blue */
  text-decoration: underline;
  transition: color 0.2s ease;
}

html.light .md-row-box a {
  color: #0d47a1;
}

.md-row-box a:hover {
  color: #93c5fd;
  /* Lighter blue on hover */
  text-decoration: underline;
}

html.light .md-row-box a:hover {
  color: #1565c0;
}

/* Utility classes for text colors with fallbacks */
.text-primary {
  color: var(--md-sys-color-primary, #1e88ff);
}

.text-on-surface {
  color: var(--md-sys-color-on-surface, #ffffff);
}

.text-on-primary {
  color: var(--md-sys-color-on-primary, #19191b);
}

.text-outline {
  color: var(--md-sys-color-outline, #8f96a3);
}

.text-loading {
  color: var(--md-sys-color-primary);
}

.text-error {
  color: var(--md-sys-color-error);
}

.text-link {
  color: var(--md-sys-color-primary);
}

.text-link:hover {
  color: color-mix(in oklab, var(--md-sys-color-primary) 80%, black);
}

html.light .text-link:hover {
  color: color-mix(in oklab, var(--md-sys-color-primary) 70%, black);
}

/* Primary indicator (radio buttons, checkboxes) */
.border-primary-indicator {
  border-color: var(--md-sys-color-primary);
}

.bg-primary-indicator {
  background-color: var(--md-sys-color-primary);
}

.border-inactive-indicator {
  border-color: var(--md-sys-color-outline);
}

.border-inactive-indicator:hover {
  border-color: var(--md-sys-color-on-surface);
}

.text-on-primary-container {
  color: var(--md-sys-color-on-primary-container, #001a40);
}

/* Utility classes for backgrounds with theme support */
.bg-primary {
  background-color: var(--md-sys-color-primary);
}

html.light .bg-primary {
  background-color: #1565c0;
}

/* Radio button indicator dot color - matches chip text color */
.bg-indicator-dot {
  background-color: var(--md-sys-color-on-surface);
}

html.light .bg-indicator-dot {
  background-color: #ffffff;
}

/* Force text to be visible on dark backgrounds */
.force-light-text {
  color: #ffffff !important;
}

.force-white-text {
  color: #ffffff !important;
}

html.light .force-light-text,
html.light .force-white-text {
  color: #1a1a1a !important;
}

/* Form elements styling */
input,
textarea,
select {
  color: var(--md-sys-color-on-surface, #ffffff);
  background-color: var(--md-sys-color-surface, #202024);
  transition: background-color 0.3s ease, color 0.3s ease;
}

html.light input,
html.light textarea,
html.light select {
  color: #1a1a1a;
  background-color: #F8FAFC;
}

/* Specific fixes for common problematic elements */
.text-gray-500 {
  color: #8f96a3 !important;
  /* Override Tailwind gray with our outline color */
}

html.light .text-gray-500 {
  color: #546e7a !important;
}

.text-gray-700 {
  color: #b8c0cc !important;
  /* Override Tailwind gray with our secondary color */
}

html.light .text-gray-700 {
  color: #37474f !important;
}

/* Ensure ticket card text stays black - override all other rules */
#result,
#result *,
#result p,
#result div {
  color: black !important;
}

/* Keybind modal key badges */
.keybind-key {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  background: var(--color-bg-elevated-hover);
  border: 1px solid var(--color-border-strong);
  border-radius: 6px;
  font-family: monospace;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--md-sys-color-on-surface, #ffffff);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

html.light .keybind-key {
  background: #e8eef8;
  border-color: var(--color-border-strong);
  color: #1a1a1a;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}